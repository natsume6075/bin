#!/bin/sh
set -e # break script when error occurred

if [ $# = 0 ] ; then
    out_filename=ss_`date '+%Y%m%d-%H%M%S'`
elif [ $# = 1 ]; then
    out_filename=$1
else
    echo "error: too many arguments" 1>&2
    exit
fi


adb shell screencap -p /sdcard/tmp.png
adb pull /sdcard/tmp.png $out_filename.png
adb shell rm /sdcard/tmp.png

# adb shell screenrecord /sdcard/screenrecord.mp4
# adb pull /sdcard/screenrecord.mp4

echo save screen capture as $out_filename.png

